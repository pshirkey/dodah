<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>DoDah Service Test</title>
<link href="/css/styles.css" rel="stylesheet" type="text/css" />
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
<script src="http://ajax.microsoft.com/ajax/jquery.validate/1.7/jquery.validate.min.js"></script>
<script src="/javascript/jquery.md5.js"></script>
 <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
 
</head>
<body>
	<div class="content"> 	
 	<div style="width:820px;margin-left:auto;margin-right:auto;margin-top:75px;" id="pageContent">
	<h1>DoDah Service Tests</h1>
	
	<div class="mainColumn" id="cleardiv" name="cleardiv" style="border:solid;padding:30px;margin:30px;">
		<h1>Service Information</h1>
		<ul>
			<li>Andriod Client Id : B902A730A4D211DFA5C53432E0D72085</li>
			<li>Web Test Client Id : 882AF324A4DC11DFB3BABF3DE0D72085</li>
			<li>Test User Access Token : {{test_user_access_token}}</li>
			<li>Test Location Key : {{ test_location_key }}</li>
		</ul>
		<button id="clear" name="clear">Clear Data</button><span style="padding:20px;">{{ cleared_message }}</span>
	</div>
	<div class="mainColumn" id="create" name="create" style="border:solid;padding:30px;margin:30px;"> 
	<form id="createform" name="createform">
		<input type="hidden" id="service_client" name="service_client" value="882AF324A4DC11DFB3BABF3DE0D72085"/>
		<h1>Create an account</h1>
		<ul>
			 <li>client_key( required )</li>
			 <li>first_name</li>
			 <li>last_name</li>
			 <li>email ( required )</li>
			 <li>md5_hash_of_password( required )</li>
			 <li>returns Access_Token_For_User or error</li>
		</ul>
		<div class="section">
			<label for="name">First Name:</label>
			<input type="text" id="first_name" name="first_name"/>
		</div>	
		<div class="section">
			<label for="name">Last Name:</label>
			<input type="text" id="last_name" name="last_name"/>
		</div>	
		<div class="section">
			<label for="name">Email Address:</label>
			<input type="text" class="required email" id="email" name="email" />
		</div>		
		<br/>		
		<div class="section">
			<label for="name">Password MD5:</label>
			<input type="text" class="required" id="password" name="password"/>
		</div>			
	</form>	
	<div><button id="createbutton" name="createbutton">Create Account</button></div>
	<div style="mrgin:20px;">
			<label for="name">Create MD5 Password:</label>
			<input type="text" id="pass_clear" name="pass_clear"/>
			<button id="md" name="md">MD5 It!</button>
		</div>	
	</div>
	
	<div class="mainColumn" id="createresult" name="createresult" style="border:solid;padding:30px;margin:30px;display:none"> 
	<h1>Create an account - Result</h1>
        <div id="createreturn" name="createreturn"></div>
	</div>
	
	<div class="mainColumn" id="create" name="create" style="border:solid;padding:30px;margin:30px;"> 
	<form id="authform" name="authform" >
		<input type="hidden" id="service_client" name="service_client" value="882AF324A4DC11DFB3BABF3DE0D72085"/>
		<h1>Authenticate</h1>
		<ul>
			 <li>client_key( required )</li>
			 <li>email ( required )</li>
			 <li>md5_hash_of_password( required )</li>
			 <li>returns Access_Token_For_User or error</li>
		</ul>
        <div class="section">
			<label for="name">email:</label>
			<input type="text" id="email" name="email"/>
		</div>	
		<div class="section">
			<label for="name">Password MD5:</label>
			<input type="text" class="required" id="password" name="password"/>
		</div>		
	</form>	
	<div><button id="authbutton" name="authbutton">Authenticate</button></div>	
	</div>
	<div class="mainColumn" id="authresult" name="authresult" style="border:solid;padding:30px;margin:30px;display:none"> 
	<h1>Authenticate - Result</h1>
        <div id="authreturn" name="authresult"></div>
	</div>
	
	
	
	<div class="mainColumn" style="border:solid;padding:30px;margin:30px;"> 
	<form id="diffform" name="diffform" >
		<input type="hidden" id="service_client" name="service_client" value="882AF324A4DC11DFB3BABF3DE0D72085"/>
		<h1>Get Difficulties</h1>
		<ul>
			 <li>client_key( required )</li>
			 <li>access_token ( required )</li>
			 <li>returns list of difficulties and times or error</li>
		</ul>
		<div class="section">
			<label for="name">Access Token:</label>
			<input type="text" id="access_token" name="access_token" value="{{test_user_access_token}}"/>
		</div>
			
	</form>	
	<div><button id="diffbutton" name="diffbutton">Execute</button></div>	
	</div>
	<div class="mainColumn" id="diffresult" name="diffresult" style="border:solid;padding:30px;margin:30px;display:none"> 
	<h1>GetDifficulties - Result</h1>
        <div id="diffreturn" name="diffresult"></div>
	</div>
	
	<div class="mainColumn" style="border:solid;padding:30px;margin:30px;"> 
	<form id="startsearchform" name="startsearchform" >
		<input type="hidden" id="service_client" name="service_client" value="882AF324A4DC11DFB3BABF3DE0D72085"/>
		<h1>StartSearch</h1>
		<ul>
			 <li>client_key( required )</li>
			 <li>access_token ( required )</li>
			 <li>location_key( required )</li>
			 <li>returns an item to find or error</li>
		</ul>
		<div class="section">
			<label for="name">Access Token:</label>
			<input type="text" id="access_token" name="access_token" value="{{test_user_access_token}}"/>
		</div>
		<div class="section">
			<label for="name">Location Key:</label>
			<input type="text" id="location_key" name="location_key" value="{{test_location_key}}"/>
		</div>
			
	</form>	
	<div><button id="startsearchbutton" name="startsearchbutton">Execute</button></div>	
	</div>
	<div class="mainColumn" id="startsearchresult" name="startsearchresult" style="border:solid;padding:30px;margin:30px;display:none"> 
	<h1>StartSearch - Result</h1>
        <div id="startsearchreturn" name="startsearchreturn"></div>
	</div>
	
	
	<div class="mainColumn" style="border:solid;padding:30px;margin:30px;"> 
	<form id="foundform" name="foundform" >
		<input type="hidden" id="service_client" name="service_client" value="882AF324A4DC11DFB3BABF3DE0D72085"/>
		<h1>Found</h1>
		<ul>
			 <li>client_key( required )</li>
			 <li>access_token ( required )</li>
			 <li>item_key( required )</li>
			 <li>returns success or error</li>
		</ul>
		<div class="section">
			<label for="name">Access Token:</label>
			<input type="text" id="access_token" name="access_token" value="{{test_user_access_token}}"/>
		</div>
		<div class="section">
			<label for="name">Item Key:</label>
			<input type="text" id="item_key" name="item_key" value=""/>
		</div>
			
	</form>	
	<div><button id="foundbutton" name="foundbutton">Execute</button></div>	
	</div>
	<div class="mainColumn" id="foundresult" name="foundresult" style="border:solid;padding:30px;margin:30px;display:none"> 
	<h1>Found - Result</h1>
        <div id="foundreturn" name="foundreturn"></div>
	</div>
	
	<div class="mainColumn" style="border:solid;padding:30px;margin:30px;"> 
	<form id="redeemform" name="redeemform" >
		<input type="hidden" id="service_client" name="service_client" value="882AF324A4DC11DFB3BABF3DE0D72085"/>
		<h1>Redeem</h1>
		<ul>
			 <li>client_key( required )</li>
			 <li>access_token ( required )</li>
			 <li>item_key( required )</li>
			 <li>returns success or error</li>
		</ul>
		<div class="section">
			<label for="name">Access Token:</label>
			<input type="text" id="access_token" name="access_token" value="{{test_user_access_token}}"/>
		</div>
		<div class="section">
			<label for="name">Item Key:</label>
			<input type="text" id="item_key" name="item_key" value=""/>
		</div>
			
	</form>	
	<div><button id="redeembutton" name="redeembutton">Execute</button></div>	
	</div>
	<div class="mainColumn" id="redeemresult" name="redeemresult" style="border:solid;padding:30px;margin:30px;display:none"> 
	<h1>Redeem - Result</h1>
        <div id="redeemreturn" name="redeemreturn"></div>
	</div>
	
	<div class="mainColumn" style="border:solid;padding:30px;margin:30px;"> 
	<form id="aroundform" name="aroundform" >
		<input type="hidden" id="service_client" name="service_client" value="882AF324A4DC11DFB3BABF3DE0D72085"/>
		<h1>WhatsAroundMe</h1>
		<ul>
			 <li>client_key( required )</li>
			 <li>access_token ( required )</li>
			 <li>address( optional )</li>
			 <li>lat( optional )</li>
			 <li>lon( optional )</li>
			 <li>max results( optional, defaults to 10 )</li>
			 <li>miles( optional, defaults to 10 )</li>
			 <li>returns list of locations around address or error</li>
		</ul>
		<div class="section">
			<label for="name">Access Token:</label>
			<input type="text" id="access_token" name="access_token" value="{{test_user_access_token}}"/>
		</div>
		<div class="section">
			<label for="name">Address:</label>
			<input type="text" id="address" name="address" value=""/>
		</div>
		<div class="section">
			<label for="name">Latitude:</label>
			<input type="text" id="lat" name="lat" value=""/>
		</div>
		<div class="section">
			<label for="name">Longitude:</label>
			<input type="text" id="lon" name="lon" value=""/>
		</div>
		<div class="section">
			<label for="name">Miles:</label>
			<input type="text" id="miles" name="miles" value="10"/>
		</div>
		<div class="section">
			<label for="name">Max Results:</label>
			<input type="text" id="max_results" name="max_results" value="10"/>
		</div>
			
	</form>	
	<div><button id="aroundbutton" name="aroundbutton">Execute</button></div>	
	</div>
	<div class="mainColumn" id="aroundresult" name="aroundresult" style="border:solid;padding:30px;margin:30px;display:none"> 
	<h1>WhatsAroundMe - Result</h1>
        <div id="aroundreturn" name="aroundreturn"></div>
	</div>
	
	
	
	
	
	
	
	
	</div>
	</div>
	<script>
		 $(document).ready(function(){
		 	$("#md").button();
			$("#md").click(function (e){
				e.stopPropagation();
				var md_str = $.md5($("#pass_clear").val());
				$("#password").val(md_str);
			});
			
			$("#authbutton").button();
			$("#authbutton").click(function (e){				
				$.ajax({
								url: '/service/authenticate',
								data: $('#authform').serialize(),
								type: 'post',
								cache: false,
								success: function (data) {
									$('#authresult').fadeIn(200, function () {
										$('#authresult').html(data).fadeIn(200);
									});
								},
							});
			});
			
			$("#diffbutton").button();
			$("#diffbutton").click(function (e){				
				$.ajax({
								url: '/service/getdifficulties',
								data: $('#diffform').serialize(),
								type: 'post',
								cache: false,
								success: function (data) {
									$('#diffresult').fadeIn(200, function () {
										$('#diffresult').html(data).fadeIn(200);
									});
								},
							});
			});
			
			$("#startsearchbutton").button();
			$("#startsearchbutton").click(function (e){				
				$.ajax({
								url: '/service/startsearch',
								data: $('#startsearchform').serialize(),
								type: 'post',
								cache: false,
								success: function (data) {
									$('#startsearchresult').fadeIn(200, function () {
										$('#startsearchreturn').html(data).fadeIn(200);
									});
								},
							});
			});
			
			$("#foundbutton").button();
			$("#foundbutton").click(function (e){				
				$.ajax({
								url: '/service/found',
								data: $('#foundform').serialize(),
								type: 'post',
								cache: false,
								success: function (data) {
									$('#foundresult').fadeIn(200, function () {
										$('#foundreturn').html(data).fadeIn(200);
									});
								},
							});
			});
			
			$("#redeembutton").button();
			$("#redeembutton").click(function (e){				
				$.ajax({
								url: '/service/redeem',
								data: $('#redeemform').serialize(),
								type: 'post',
								cache: false,
								success: function (data) {
									$('#redeemresult').fadeIn(200, function () {
										$('#redeemreturn').html(data).fadeIn(200);
									});
								},
							});
			});
			
			$("#aroundbutton").button();
			$("#aroundbutton").click(function (e){				
				$.ajax({
								url: '/service/whatsaroundme',
								data: $('#aroundform').serialize(),
								type: 'post',
								cache: false,
								success: function (data) {
									$('#aroundresult').fadeIn(200, function () {
										$('#aroundreturn').html(data).fadeIn(200);
									});
								},
							});
			});
			
			$("#clear").button();
			$("#clear").click(function(e){
				window.location = "/test/clear";
			});
			
			$("#loadtestdata").button();
			$("#loadtestdata").click(function(e){
				window.location = "/test/load";
			});
			
			$("#createbutton").button();
			$("#createbutton").click(function(e){
				$.ajax({
								url: '/service/createaccount',
								data: $('#createform').serialize(),
								type: 'post',
								cache: false,
								success: function (data) {
									$('#createresult').fadeIn(200, function () {
										$('#createreturn').html(data).fadeIn(200);
									});
								},
							});
			});		
		 	
			
		  $(".resize").vjustify();
		  $("div.buttonSubmit").hoverClass("buttonSubmitHover");		
		  if ($.browser.safari) {
		    $("body").addClass("safari");
		  }
		 });
	</script>
</body>	
 </html>